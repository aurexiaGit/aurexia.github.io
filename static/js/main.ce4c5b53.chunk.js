(this.webpackJsonpfinlab=this.webpackJsonpfinlab||[]).push([[0],{215:function(e,t){e.exports=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function",signature:"0x06fdde03"},{constant:!0,inputs:[],name:"sizeListCharity",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x1c6c72b0"},{constant:!0,inputs:[],name:"openDonation",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function",signature:"0x30e3fcad"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function",signature:"0x313ce567"},{constant:!0,inputs:[],name:"initialSupply",outputs:[{name:"",type:"uint32"}],payable:!1,stateMutability:"view",type:"function",signature:"0x378dc3dc"},{constant:!0,inputs:[],name:"_totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x3eaaf86b"},{constant:!1,inputs:[],name:"acceptOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x79ba5097"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function",signature:"0x8da5cb5b"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function",signature:"0x95d89b41"},{constant:!0,inputs:[],name:"initialDonation",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xb47333ca"},{constant:!0,inputs:[],name:"indexNewWording",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xd3c49371"},{constant:!0,inputs:[],name:"newOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function",signature:"0xd4ee1d90"},{constant:!0,inputs:[],name:"sizeListAccount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xd6eb5782"},{constant:!1,inputs:[{name:"_newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xf2fde38b"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor",signature:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"tokens",type:"uint256"}],name:"Transfer",type:"event",signature:"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event",signature:"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"}],name:"OwnershipTransferred",type:"event",signature:"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x18160ddd"},{constant:!0,inputs:[{name:"_address",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x70a08231"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_text",type:"bytes32"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x57cfeeee"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_text",type:"bytes32"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x401e3367"},{constant:!1,inputs:[{name:"_address",type:"address"},{name:"_name",type:"bytes32"},{name:"_grade",type:"uint8"}],name:"addToAurexiaMembers",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x7112ba11"},{constant:!1,inputs:[{name:"_address",type:"address[]"},{name:"_name",type:"bytes32[]"},{name:"_grade",type:"uint8[]"},{name:"taille",type:"uint256"}],name:"authorizeManyMembers",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xeed414b8"},{constant:!1,inputs:[{name:"_address",type:"address"}],name:"remAurexiaMembers",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x53e18bdc"},{constant:!0,inputs:[],name:"getAllWordings",outputs:[{name:"",type:"address[]"},{name:"",type:"address[]"},{name:"",type:"uint256[]"},{name:"",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function",signature:"0xe0fcd9ff"},{constant:!0,inputs:[{name:"_address",type:"address"}],name:"getPersonalWordings",outputs:[{name:"",type:"address[]"},{name:"",type:"address[]"},{name:"",type:"uint256[]"},{name:"",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function",signature:"0xcecb2a88"},{constant:!0,inputs:[{name:"_address",type:"address"}],name:"getPersoInfoTransaction",outputs:[{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x04c6928c"},{constant:!0,inputs:[],name:"getAllInfoTransaction",outputs:[{name:"",type:"uint256[]"},{name:"",type:"uint256[]"},{name:"",type:"uint256[]"},{name:"",type:"uint256[]"},{name:"",type:"uint256[]"},{name:"",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function",signature:"0xabbf7a73"},{constant:!0,inputs:[],name:"getMembers",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function",signature:"0x9eab5253"},{constant:!0,inputs:[],name:"getMembersCharityAndName",outputs:[{name:"",type:"address[]"},{name:"",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function",signature:"0x33b0f6cb"},{constant:!0,inputs:[],name:"getMembersAndNameAndBalance",outputs:[{name:"",type:"address[]"},{name:"",type:"bytes32[]"},{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function",signature:"0x77f36225"},{constant:!0,inputs:[{name:"_address",type:"address"}],name:"getName",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function",signature:"0x5fd4b08a"},{constant:!0,inputs:[{name:"_address",type:"address"}],name:"getNbrTransaction",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x61a48dcf"},{constant:!0,inputs:[{name:"_address",type:"address"}],name:"getTotalSend",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x6f485075"},{constant:!0,inputs:[{name:"_address",type:"address"}],name:"getTotalReceive",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x33352d03"},{constant:!0,inputs:[{name:"_address",type:"address"}],name:"getNbrSend",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x38790228"},{constant:!0,inputs:[{name:"_address",type:"address"}],name:"getNbrReceive",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x1f1423b1"},{constant:!1,inputs:[{name:"_address",type:"address"},{name:"newGrade",type:"uint8"}],name:"modifyGrade",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xf09d0874"},{constant:!1,inputs:[{name:"_address",type:"address"},{name:"newName",type:"bytes32"}],name:"modifyName",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x9ca1221c"},{constant:!1,inputs:[{name:"_receiver",type:"address"},{name:"_value",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x40c10f19"},{constant:!1,inputs:[{name:"_address",type:"address"},{name:"_value",type:"uint256"}],name:"burn",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x9dc29fac"},{constant:!1,inputs:[{name:"_address",type:"address"},{name:"_name",type:"bytes32"}],name:"addAssociation",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x097a80b8"},{constant:!1,inputs:[{name:"_address",type:"address"}],name:"remAssociation",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x1a76e209"},{constant:!1,inputs:[{name:"_address",type:"address"},{name:"_amount",type:"uint256"}],name:"transferToAssociation",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x32e639e4"},{constant:!0,inputs:[],name:"getCharityAddress",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function",signature:"0x1ad06393"},{constant:!0,inputs:[],name:"getCharitySize",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xae1de61c"},{constant:!1,inputs:[],name:"launchDonation",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x60aa8c73"},{constant:!1,inputs:[],name:"closeDonation",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x59abef9a"},{constant:!0,inputs:[],name:"getCharityAndNameAndBalance",outputs:[{name:"",type:"address[]"},{name:"",type:"bytes32[]"},{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function",signature:"0x38fafcc0"},{constant:!0,inputs:[],name:"isDonationOpen",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function",signature:"0x33ccaffa"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x095ea7b3"},{constant:!0,inputs:[{name:"sender",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xdd62ed3e"}]},224:function(e,t,a){e.exports=a(568)},333:function(e,t){},355:function(e,t){},357:function(e,t){},397:function(e,t){},399:function(e,t){},428:function(e,t){},568:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(46),i=a.n(r),o=a(2),c=a.n(o),u=a(17),l=a(4),p=a(5),m=a(13),d=a(12),y=a(1),b=a(14),f=a(215),h=a.n(f),g=a(115),v=a(223),w=a(323),x=new w(new w.providers.HttpProvider("https://ropsten.infura.io/v3/cc89e42528e441afb25d84e1499632ba"));x.eth.defaultAccount="0xc4d446c6B924c431f89214319D5A3e6bb67e7627";var E="0xaD57d1eD8A07Dcd5657eb7A1880C2Cc0C71257aE",N=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).get_user_balance=function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,new Promise((function(e,a){A.methods.balanceOf(t).call((function(t,n){if(t)return a(t);e(Math.round(n*Math.pow(10,-18)))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.get_user_adress=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){e.get_all_users().then((function(a){var n=e.props.admin?"Administrator":e.props.user.displayName;a.forEach((function(e){e.name===n&&t(e.address)}))}))})));case 1:case"end":return t.stop()}}),t)}))),e.get_all_users=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){A.methods.getMembersAndNameAndBalance().call((function(a,n){if(a)return t(a);for(var s=[],r=0;r<n[0].length;r++)s[r]={},s[r].address=n[0][r],s[r].name=x.utils.toAscii(n[1][r]).split("\0")[0],s[r].balance=n[2][r]*Math.pow(10,-18);e(s)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),e.get_users=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){e.get_all_users().then((function(e){for(var a=[],n=0;n<e.length-1;n++)"Administrator"!==e[n].name&&a.push({value:e[n].address,label:e[n].name});t(a)}))})));case 1:case"end":return t.stop()}}),t)}))),e.get_history=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){M.account.tokentx(x.eth.defaultAccount,E,1,"latest","asc").then((function(t){_(x.eth.defaultAccount).then((function(a){for(var n=t.result,s=[],r=n.length-1,i=0;r>=0;r--,i++)s[i]={},s[i].date=new Date(1e3*parseInt(n[r].timeStamp)),s[i].from=n[r].from,s[i].to=n[r].to,s[i].amount=Math.round(n[r].value*Math.pow(10,-18)),s[i].message=a[3][i];e(s)}))})).catch((function(e){t(e)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),e.get_user_name=function(){var e=Object(u.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Promise((function(e,a){try{A.methods.getName(t).call((function(t,n){var s=x.utils.toAscii(n).split("\0")[0];if(t)return a(t);e(s)}))}catch(n){}})),e.next=3,a;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.get_line_history=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){e.get_history().then((function(e){for(var a={labels:[],datasets:[{fill:!1,label:"Sent",data:[],borderColor:"#EE6765"},{fill:!1,label:"Received",data:[],borderColor:"#053C5A"}]},n=["January","February","March","April","May","June","July","August","September","October","November","December"],s=x.eth.defaultAccount,r=e.length-1,i=0;r>=0;r--,i++)e[r].to.toUpperCase()!=="0x0000000000000000000000000000000000000000".toUpperCase()&&e[r].from.toUpperCase()!=="0x0000000000000000000000000000000000000000".toUpperCase()&&(a.labels.includes(n[new Date(e[r].date).getMonth()])||(a.labels.push(n[new Date(e[r].date).getMonth()]),a.datasets[0].data.push(0),a.datasets[1].data.push(0)),a.datasets[e[r].from.toUpperCase()===s.toUpperCase()?0:1].data[a.labels.length-1]+=e[r].amount);t(a)})).catch((function(e){console.log(e)}))})));case 1:case"end":return t.stop()}}),t)}))),e.get_chart_history=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){e.get_history().then(function(){var a=Object(u.a)(c.a.mark((function a(n){var s,r,i;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={labels:[],datasets:[{backgroundColor:[],data:[]}]},r=n.length-1,0;case 3:if(!(r>=0)){a.next=12;break}if(n[r].to.toUpperCase()==="0x0000000000000000000000000000000000000000".toUpperCase()||n[r].from.toUpperCase()==="0x0000000000000000000000000000000000000000".toUpperCase()||0===n[r].amount){a.next=9;break}return a.next=7,e.get_user_name(n[r].to);case 7:i=a.sent,s.labels.includes(i)?s.datasets[0].data[s.labels.indexOf(i)]+=n[r].amount:(s.labels.push(i),s.datasets[0].data.push(n[r].amount));case 9:r--,a.next=3;break;case 12:return a.next=14,e.get_colors(s.labels.length);case 14:s.datasets[0].backgroundColor=a.sent,t(s);case 16:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)}))})));case 1:case"end":return t.stop()}}),t)}))),e.transfer_tokens=function(){var e=Object(u.a)(c.a.mark((function e(t,a){var n,s,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:null,s=r.length>3&&void 0!==r[3]?r[3]:null,e.next=4,new Promise((function(e,r){a*=Math.pow(10,18),n=x.fromAscii(n),null!=s?A.methods.transferFrom(s,t,a,n).call((function(t,a){if(t)return r(t);e(a)})):null!=n?A.methods.transfer(t,a,n).call((function(t,a){if(t)return r(t);e(a)})):A.methods.tranferToAssociation(t,a).call((function(t,a){if(t)return r(t);e(a)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),e.sendTokens=function(){var t=Object(u.a)(c.a.mark((function t(a){var n,s,r,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.form,s=n.amount,r=n.address,i=n.message,t.next=4,e.transfer_tokens(r.value,s,i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={users:[],balance:0,history:{},chart:{}},e}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get_user_adress();case 2:return x.eth.defaultAccount=e.sent,e.t0=this,e.next=6,this.get_user_balance(x.eth.defaultAccount);case 6:return e.t1=e.sent,e.t2={balance:e.t1},e.t0.setState.call(e.t0,e.t2),e.t3=this,e.next=12,this.get_users();case 12:return e.t4=e.sent,e.t5={users:e.t4},e.t3.setState.call(e.t3,e.t5),e.t6=this,e.next=18,this.get_line_history();case 18:return e.t7=e.sent,e.t8={history:e.t7},e.t6.setState.call(e.t6,e.t8),e.t9=this,e.next=24,this.get_chart_history();case 24:e.t10=e.sent,e.t11={chart:e.t10},e.t9.setState.call(e.t9,e.t11);case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get_colors",value:function(e){for(var t=[],a=["#EE6765","#053C5A","#F4F6F7"],n=0;n<e-1;n++)t[n]=a[n%a.length];return t}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"},s.a.createElement("h1",{className:"h3 mb-0 text-gray-800"},"Aurexia Social Token")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},s.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row no-gutters align-items-center"},s.a.createElement("div",{className:"col mr-2"},s.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"Earnings (Annual)"),s.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.balance," AST")),s.a.createElement("div",{className:"col-auto"},s.a.createElement("i",{className:"fas fa-calendar fa-2x text-gray-300"}))))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xl-8 col-lg-7"},s.a.createElement("div",{className:"card shadow mb-4"},s.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},s.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"History"),!1),s.a.createElement("div",{className:"card-body"},s.a.createElement(g.b,{data:this.state.history,options:{legend:{display:!1}}})))),s.a.createElement("div",{className:"col-xl-4 col-lg-5"},s.a.createElement("div",{className:"card shadow mb-4"},s.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},s.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Revenue")),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"chart-pie pt-4 pb-2"},s.a.createElement("div",{className:"chart-js-size-monitor"}),s.a.createElement(g.a,{classNam:"center-block",data:this.state.chart,options:{legend:{display:!1}}})))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xl-6 col-lg-6"},s.a.createElement("div",{className:"card shadow mb-4"},s.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},s.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Send AST")),s.a.createElement("div",{className:"card-body"},s.a.createElement("form",{className:"user",onSubmit:this.sendTokens,ref:function(t){return e.form=t}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"number",max:this.state.balance,className:"form-control form-control-user",name:"amount"})),s.a.createElement("div",{className:"form-group"},s.a.createElement(v.a,{name:"address",options:this.state.users})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control form-control-user",name:"message"})),s.a.createElement("button",{className:"btn btn-primary btn-user btn-block"},"Send")))))))}}]),t}(n.Component),A=new x.eth.Contract(h.a,E,{from:x.eth.defaultAccount,gas:1e7}),M=a(536).init("NSAMUW521D6CQ63KHUPRQEERSW8FVRAF9B","ropsten"),_=function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){A.methods.getPersonalWordings(t).call((function(t,n){if(t)return a(t);for(var s=0;s<n[3].length;s++)n[3][s]=x.utils.toAscii(n[3][s]).split("\0")[0];e(n)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=a(570);a(212);function O(e){return e.user.avatar?s.a.createElement("img",{src:e.user.avatar,alt:"user",className:"rounded-circle align-self-center mr-2",style:{width:"32px"}}):s.a.createElement("i",{className:"far fa-user-circle fa-lg rounded-circle align-self-center mr-2",style:{width:"32px"}})}function j(e){return e.isAuthenticated?s.a.createElement("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},s.a.createElement("button",{id:"sidebarToggleTop",className:"btn btn-link d-md-none rounded-circle mr-3",onClick:e.toggle},s.a.createElement("i",{className:"fa fa-bars"})),s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item dropdown no-arrow"},s.a.createElement("a",{href:"/#",className:"nav-link dropdown-toggle",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small"},e.user.displayName),s.a.createElement(O,{user:e.user})),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown"},s.a.createElement("a",{href:"/#",className:"dropdown-item",onClick:e.authButtonMethod,"data-toggle":"modal","data-target":"#logoutModal"},s.a.createElement("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"Logout"))))):s.a.createElement("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement(k.a,{color:"primary",onClick:e.authButtonMethod},"Click here to sign in")))}var C=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(j,{toggle:this.props.toggle,isAuthenticated:this.props.isAuthenticated,authButtonMethod:this.props.authButtonMethod,user:this.props.user}))}}]),t}(s.a.Component);function S(e){return e.admin?s.a.createElement("div",null,s.a.createElement("div",{className:"sidebar-heading"},"Admin"),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"/astAdmin"},s.a.createElement("i",{className:"fas fa-fw fa-users"}),s.a.createElement("span",null,"AST")))):s.a.createElement("div",null)}var P=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement("ul",{className:this.props.isOpen?"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion":"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion toggled",id:"accordionSidebar"},s.a.createElement("a",{className:"sidebar-brand d-flex align-items-center justify-content-center",href:"/"},s.a.createElement("div",{className:"sidebar-brand-icon"},s.a.createElement("img",{src:"../img/Aurexia logo white.png",width:"100%",alt:"Aurexia Logo"}))),s.a.createElement("hr",{className:"sidebar-divider my-0"}),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"/ast"},s.a.createElement("i",{className:"fas fa-fw fa-tachometer-alt"}),s.a.createElement("span",null,"Dashboard"))),s.a.createElement("hr",{className:"sidebar-divider"}),s.a.createElement(S,{admin:this.props.admin}),s.a.createElement("div",{className:"text-center d-none d-md-inline"},s.a.createElement("button",{className:"rounded-circle border-0",id:"sidebarToggle",onClick:this.props.toggle})))}}]),t}(s.a.Component),T=a(51),D=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row main"},s.a.createElement("div",{className:"col-lg-6 login-logo"},s.a.createElement(T.Online,null,s.a.createElement("div",{className:"login-logo"},s.a.createElement("img",{id:"AST",className:"center-block",src:"../img/finlab blanc.png",alt:"Aurexia Finlab"})))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"card card-signin"},s.a.createElement("div",{className:"card-body text-center"},s.a.createElement("div",null,"Welcome ",this.props.isAuthenticated&&s.a.createElement("strong",null,this.props.user.displayName,",")," to the Aurexia Finlab's Application"),s.a.createElement(T.Online,null,!this.props.isAuthenticated&&s.a.createElement("div",null,"Please, sign in with your microsoft account to see the Finlab's functionalities")),s.a.createElement(T.Offline,null,"You need to have an internet connection to see the website"),s.a.createElement("div",null,"To get more information about the Finlab, contact ",s.a.createElement("a",{href:"mailto:soilhat.mohamed@aurexia.com"},"Soilhat MOHAMED"))))))))}}]),t}(n.Component),U=a(219),B=a(38),F=a(83),R=a.n(F),L=a(567);function W(e){return L.Client.init({authProvider:function(t){t(null,e.accessToken)}})}function I(e){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=W(t),e.next=3,a.api("/me").get();case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return H.apply(this,arguments)}function H(){return(H=Object(u.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=W(t),e.next=3,new Promise((function(e,t){a.api("/me/photo/$value").get((function(t){200===t.statusCode?e(a.api("/me/photo/$value").get()):e(null)})).then(console.log,t)}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=a(222),G=["Soilhat MOHAMED","Amine BADRY"],Q=function(e){function t(e){var a;if(Object(l.a)(this,t),a=Object(m.a)(this,Object(d.a)(t).call(this,e)),navigator.onLine){a.userAgentApplication=new $.a({auth:{clientId:R.a.appId},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!0}});var n=a.userAgentApplication.getAccount();a.state={isOpen:!1,toggle:a.toggle.bind(Object(y.a)(a)),isAuthenticated:null!==n,user:{},error:null},a.toggle=a.toggle.bind(Object(y.a)(a)),n&&a.getUserProfile()}return a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"login",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.userAgentApplication.loginPopup({scopes:R.a.scopes,prompt:"select_account"});case 3:return e.next=5,this.getUserProfile();case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),t={},"string"===typeof e.t0?(a=e.t0.split("|"),t=a.length>1?{message:a[1],debug:a[0]}:{message:e.t0}):t={message:e.t0.message,debug:JSON.stringify(e.t0)},this.setState({isAuthenticated:!1,user:{},error:t});case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.userAgentApplication.logout()}},{key:"getUserProfile",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,a,n,s,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.userAgentApplication.acquireTokenSilent({scopes:R.a.scopes});case 3:if(!(t=e.sent)){e.next=13;break}return e.next=7,I(t);case 7:return a=e.sent,e.next=10,z(t);case 10:n=e.sent,s=window.URL||window.webkitURL,this.setState({isAuthenticated:!0,user:{name:G.includes(a.displayName)?"Administrator":"",displayName:a.displayName,email:a.mail||a.userPrincipalName,avatar:null!==n?s.createObjectURL(n):""},error:null});case 13:e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),r={},"string"===typeof e.t0?(i=e.t0.split("|"),r=i.length>1?{message:i[1],debug:i[0]}:{message:e.t0}):r={message:e.t0.message,debug:JSON.stringify(e.t0)},this.setState({isAuthenticated:!1,user:{},error:r});case 20:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return s.a.createElement("div",{id:"wrapper"},this.state&&this.state.isAuthenticated&&s.a.createElement(P,{isOpen:this.state.isOpen,toggle:this.toggle,admin:"Administrator"===this.state.user.name}),s.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},s.a.createElement("div",{id:"content"},s.a.createElement(T.Online,null,s.a.createElement(C,{toggle:this.toggle,isAuthenticated:!!this.state&&this.state.isAuthenticated,authButtonMethod:this.state&&this.state.isAuthenticated?this.logout.bind(this):this.login.bind(this),user:this.state?this.state.user:null})),s.a.createElement("div",{className:"container-fluid"},this.state&&this.state.isAuthenticated&&s.a.createElement(U.a,null,s.a.createElement(B.c,null,"Administrator"===this.state.user.name&&s.a.createElement(B.a,{path:"/astAdmin"},s.a.createElement(N,{isAuthenticated:this.state.isAuthenticated,user:this.state.user,admin:!0})),s.a.createElement(B.a,{path:"/ast"},s.a.createElement(N,{isAuthenticated:this.state.isAuthenticated,user:this.state.user,admin:!1})),s.a.createElement(B.a,{path:"/"},s.a.createElement(D,{isAuthenticated:this.state.isAuthenticated,user:this.state.user})))),(!this.state||!this.state.isAuthenticated)&&s.a.createElement(D,{isAuthenticated:!!this.state&&this.state.isAuthenticated,user:this.state?this.state.user:null}))),s.a.createElement("footer",{className:"sticky-footer bg-white"},s.a.createElement("div",{className:"container my-auto"},s.a.createElement("div",{className:"copyright text-center my-auto"},s.a.createElement("span",null,"Copyright \xa9 Aurexia 2019"))))))}},{key:"setErrorMessage",value:function(e,t){this.setState({error:{message:e,debug:t}})}}]),t}(n.Component),Y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(s.a.createElement(Q,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Y?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):q(e)}))}}()},83:function(e,t){e.exports={appId:"e8bf1109-6ab5-430c-85e0-b29e1d491e40",scopes:["user.read"]}}},[[224,1,2]]]);
//# sourceMappingURL=main.ce4c5b53.chunk.js.map